[{"path":"/payment-methods","method":"GET","summary":"List payment methods","description":"Retrieve all payment methods for the authenticated user","parameters":[{"name":"limit","in":"query","description":"Number of items to return","schema":{"type":"integer","default":10,"minimum":1,"maximum":100}},{"name":"offset","in":"query","description":"Number of items to skip","schema":{"type":"integer","default":0,"minimum":0}}],"requestBody":null,"responses":{"200":{"description":"Payment methods retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"pm_12345"},"type":{"type":"string","enum":["card","bank_account","digital_wallet"],"example":"card"},"card":{"type":"object","properties":{"last4":{"type":"string","example":"4242"},"brand":{"type":"string","example":"visa"},"expMonth":{"type":"integer","example":12},"expYear":{"type":"integer","example":2025},"fingerprint":{"type":"string","example":"Xt5EWLLDS7FJjR1c"}}},"bankAccount":{"type":"object","properties":{"last4":{"type":"string","example":"6789"},"bankName":{"type":"string","example":"Chase Bank"},"accountType":{"type":"string","enum":["checking","savings"],"example":"checking"}}},"digitalWallet":{"type":"object","properties":{"provider":{"type":"string","enum":["paypal","apple_pay","google_pay"],"example":"paypal"},"email":{"type":"string","format":"email","example":"user@paypal.com"}}},"isDefault":{"type":"boolean","example":true},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"}}}},"total":{"type":"integer","example":3},"limit":{"type":"integer","example":10},"offset":{"type":"integer","example":0}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payment-methods","method":"POST","summary":"Add payment method","description":"Add a new payment method for the authenticated user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["type"],"properties":{"type":{"type":"string","enum":["card","bank_account","digital_wallet"],"example":"card"},"card":{"type":"object","properties":{"number":{"type":"string","example":"4242424242424242"},"expMonth":{"type":"integer","example":12},"expYear":{"type":"integer","example":2025},"cvc":{"type":"string","example":"123"}}},"bankAccount":{"type":"object","properties":{"accountNumber":{"type":"string","example":"123456789"},"routingNumber":{"type":"string","example":"021000021"},"accountType":{"type":"string","enum":["checking","savings"],"example":"checking"}}},"digitalWallet":{"type":"object","properties":{"provider":{"type":"string","enum":["paypal","apple_pay","google_pay"],"example":"paypal"},"email":{"type":"string","format":"email","example":"user@paypal.com"}}},"isDefault":{"type":"boolean","example":false}}}}}},"responses":{"201":{"description":"Payment method added successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"pm_12345"},"type":{"type":"string","enum":["card","bank_account","digital_wallet"],"example":"card"},"card":{"type":"object","properties":{"last4":{"type":"string","example":"4242"},"brand":{"type":"string","example":"visa"},"expMonth":{"type":"integer","example":12},"expYear":{"type":"integer","example":2025},"fingerprint":{"type":"string","example":"Xt5EWLLDS7FJjR1c"}}},"bankAccount":{"type":"object","properties":{"last4":{"type":"string","example":"6789"},"bankName":{"type":"string","example":"Chase Bank"},"accountType":{"type":"string","enum":["checking","savings"],"example":"checking"}}},"digitalWallet":{"type":"object","properties":{"provider":{"type":"string","enum":["paypal","apple_pay","google_pay"],"example":"paypal"},"email":{"type":"string","format":"email","example":"user@paypal.com"}}},"isDefault":{"type":"boolean","example":true},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payment-methods/{paymentMethodId}","method":"GET","summary":"Get payment method","description":"Retrieve a specific payment method by ID","parameters":[{"name":"paymentMethodId","in":"path","required":true,"description":"Payment method ID","schema":{"type":"string","example":"pm_12345"}}],"requestBody":null,"responses":{"200":{"description":"Payment method retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"pm_12345"},"type":{"type":"string","enum":["card","bank_account","digital_wallet"],"example":"card"},"card":{"type":"object","properties":{"last4":{"type":"string","example":"4242"},"brand":{"type":"string","example":"visa"},"expMonth":{"type":"integer","example":12},"expYear":{"type":"integer","example":2025},"fingerprint":{"type":"string","example":"Xt5EWLLDS7FJjR1c"}}},"bankAccount":{"type":"object","properties":{"last4":{"type":"string","example":"6789"},"bankName":{"type":"string","example":"Chase Bank"},"accountType":{"type":"string","enum":["checking","savings"],"example":"checking"}}},"digitalWallet":{"type":"object","properties":{"provider":{"type":"string","enum":["paypal","apple_pay","google_pay"],"example":"paypal"},"email":{"type":"string","format":"email","example":"user@paypal.com"}}},"isDefault":{"type":"boolean","example":true},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"404":{"description":"Payment method not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payment-methods/{paymentMethodId}","method":"DELETE","summary":"Delete payment method","description":"Remove a payment method","parameters":[{"name":"paymentMethodId","in":"path","required":true,"description":"Payment method ID","schema":{"type":"string","example":"pm_12345"}}],"requestBody":null,"responses":{"200":{"description":"Payment method deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Payment method deleted successfully"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"404":{"description":"Payment method not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payments","method":"GET","summary":"List payments","description":"Retrieve payment history for the authenticated user","parameters":[{"name":"limit","in":"query","description":"Number of items to return","schema":{"type":"integer","default":10,"minimum":1,"maximum":100}},{"name":"offset","in":"query","description":"Number of items to skip","schema":{"type":"integer","default":0,"minimum":0}},{"name":"status","in":"query","description":"Filter by payment status","schema":{"type":"string","enum":["pending","completed","failed","refunded"]}},{"name":"startDate","in":"query","description":"Filter payments from this date","schema":{"type":"string","format":"date","example":"2024-01-01"}},{"name":"endDate","in":"query","description":"Filter payments until this date","schema":{"type":"string","format":"date","example":"2024-12-31"}}],"requestBody":null,"responses":{"200":{"description":"Payments retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"pay_12345"},"amount":{"type":"number","format":"float","example":99.99},"currency":{"type":"string","example":"USD"},"status":{"type":"string","enum":["pending","completed","failed","refunded"],"example":"completed"},"paymentMethodId":{"type":"string","example":"pm_12345"},"description":{"type":"string","example":"Payment for order #12345"},"metadata":{"type":"object","additionalProperties":true,"example":{"orderId":"12345","customerId":"cust_67890"}},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"},"completedAt":{"type":"string","format":"date-time","example":"2024-01-01T00:01:00Z"}}}},"total":{"type":"integer","example":25},"limit":{"type":"integer","example":10},"offset":{"type":"integer","example":0}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payments","method":"POST","summary":"Create payment","description":"Process a new payment","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["amount","currency","paymentMethodId"],"properties":{"amount":{"type":"number","format":"float","minimum":0.01,"example":99.99},"currency":{"type":"string","example":"USD"},"paymentMethodId":{"type":"string","example":"pm_12345"},"description":{"type":"string","example":"Payment for order #12345"},"metadata":{"type":"object","additionalProperties":true,"example":{"orderId":"12345","customerId":"cust_67890"}},"confirmationRequired":{"type":"boolean","example":false}}}}}},"responses":{"201":{"description":"Payment created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"pay_12345"},"amount":{"type":"number","format":"float","example":99.99},"currency":{"type":"string","example":"USD"},"status":{"type":"string","enum":["pending","completed","failed","refunded"],"example":"completed"},"paymentMethodId":{"type":"string","example":"pm_12345"},"description":{"type":"string","example":"Payment for order #12345"},"metadata":{"type":"object","additionalProperties":true,"example":{"orderId":"12345","customerId":"cust_67890"}},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"},"completedAt":{"type":"string","format":"date-time","example":"2024-01-01T00:01:00Z"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"402":{"description":"Payment required or insufficient funds","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payments/{paymentId}","method":"GET","summary":"Get payment","description":"Retrieve a specific payment by ID","parameters":[{"name":"paymentId","in":"path","required":true,"description":"Payment ID","schema":{"type":"string","example":"pay_12345"}}],"requestBody":null,"responses":{"200":{"description":"Payment retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"pay_12345"},"amount":{"type":"number","format":"float","example":99.99},"currency":{"type":"string","example":"USD"},"status":{"type":"string","enum":["pending","completed","failed","refunded"],"example":"completed"},"paymentMethodId":{"type":"string","example":"pm_12345"},"description":{"type":"string","example":"Payment for order #12345"},"metadata":{"type":"object","additionalProperties":true,"example":{"orderId":"12345","customerId":"cust_67890"}},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"},"completedAt":{"type":"string","format":"date-time","example":"2024-01-01T00:01:00Z"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"404":{"description":"Payment not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/payments/{paymentId}/refund","method":"POST","summary":"Refund payment","description":"Process a refund for a completed payment","parameters":[{"name":"paymentId","in":"path","required":true,"description":"Payment ID to refund","schema":{"type":"string","example":"pay_12345"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number","format":"float","description":"Amount to refund (optional, defaults to full amount)","example":50},"reason":{"type":"string","description":"Reason for refund","example":"Customer request"}}}}}},"responses":{"200":{"description":"Refund processed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","example":"ref_12345"},"paymentId":{"type":"string","example":"pay_12345"},"amount":{"type":"number","format":"float","example":50},"currency":{"type":"string","example":"USD"},"reason":{"type":"string","example":"Customer request"},"status":{"type":"string","enum":["pending","completed","failed"],"example":"completed"},"createdAt":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}},"404":{"description":"Payment not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[{"bearerAuth":[]}],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]},{"path":"/webhooks/payment-status","method":"POST","summary":"Payment status webhook","description":"Receive payment status updates from payment processors","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"eventType":{"type":"string","enum":["payment.completed","payment.failed","payment.refunded"],"example":"payment.completed"},"paymentId":{"type":"string","example":"pay_12345"},"timestamp":{"type":"string","format":"date-time","example":"2024-01-01T00:00:00Z"},"data":{"type":"object","additionalProperties":true}}}}}},"responses":{"200":{"description":"Webhook processed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"received":{"type":"boolean","example":true}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string","example":"Payment failed"},"message":{"type":"string","example":"Insufficient funds in the account"},"code":{"type":"string","example":"PAY_001"}}}}}}},"security":[],"servers":[{"url":"https://api.example.com/payments/v1"},{"url":"https://staging-api.example.com/payments/v1"}]}]
